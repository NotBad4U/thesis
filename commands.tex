\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]

\newtheorem{theorem}{Theorem}
\newtheorem{proposition}{Proposition}
\newtheorem{corollary}{Corollary}[theorem]
\newtheorem{lemma}{Lemma}
\newtheorem*{notation}{Notation}
\newtheorem{example}{Example}

\theoremstyle{remark}
\newtheorem{remark}{Remark}

%******************************************************************
% Colors
%******************************************************************
% https://colorhunt.co/palette/211c844d55cc7a73d1b5a8d5
% rgb(33, 28, 132)
\definecolor{darkpurple}{RGB}{33, 28, 132}
% rgb(77, 85, 204)
\definecolor{midpurple}{RGB}{77, 85, 204}
% rgb(122, 115, 209)
\definecolor{lpurple}{RGB}{122, 115, 209}
% rgb(181, 168, 213)
\definecolor{lpink}{RGB}{181, 168, 213}

% rgb(79, 23, 135)
 \definecolor{purple2}{RGB}{79, 23, 135}
% rgb(235, 54, 120)
 \definecolor{cherrypink}{RGB}{235, 54, 120}
% rgb(251, 119, 60)
\definecolor{sunorange}{RGB}{251, 119, 60}

% rgb(230,1,140)
\definecolor{rxpink}{RGB}{230,1,140}
% rgb(141,31,137)
\definecolor{rxpurple}{RGB}{141,31,137}
% rgb(4,38,137)
\definecolor{rxpurple}{RGB}{4,38,137}

%******************************************************************
% Lambdapi syntax unicode
%******************************************************************


\DeclareUnicodeCharacter{03C0}{\texttt{Prf}}
\DeclareUnicodeCharacter{27F9}{$\Rightarrow$}
\DeclareUnicodeCharacter{2254}{$\coloneqq$}
\DeclareUnicodeCharacter{2091}{$_e$}
\DeclareUnicodeCharacter{22A5}{$\bot$}
\DeclareUnicodeCharacter{25A9}{$\blacksquare$}
\DeclareUnicodeCharacter{0307}{$^{\bullet}$}
\DeclareUnicodeCharacter{27C7}{$\veedot$}
\DeclareUnicodeCharacter{2228}{$\lor$}
\DeclareUnicodeCharacter{1D9C}{$^c$}
\DeclareUnicodeCharacter{1D62}{$_i$}
\DeclareUnicodeCharacter{2081}{$_1$}
\DeclareUnicodeCharacter{2097}{$_l$}
\DeclareUnicodeCharacter{1D63}{$_r$}
\DeclareUnicodeCharacter{21AA}{$\hookrightarrow$}
\DeclareUnicodeCharacter{03C4}{\textcolor{blue}{\texttt{El}}}
\DeclareUnicodeCharacter{2115}{$\mathbb{N}$}
\DeclareUnicodeCharacter{03A0}{$\Pi$}
\DeclareUnicodeCharacter{2227}{$\land$}
\DeclareUnicodeCharacter{21D2}{$\Rightarrow$}
\DeclareUnicodeCharacter{2200}{$\forall$}
\DeclareUnicodeCharacter{2933}{$\leadsto$}
\DeclareUnicodeCharacter{2203}{$\exists$}
\DeclareUnicodeCharacter{03F5}{$\epsilon$}
\DeclareUnicodeCharacter{21D4}{$\Leftrightarrow$}
\DeclareUnicodeCharacter{22A4}{$\top$}
\DeclareUnicodeCharacter{2250}{$\doteq$}
\DeclareUnicodeCharacter{25A1}{$\square$}
\DeclareUnicodeCharacter{2082}{$_2$}
\definecolor{SmtBlue}{HTML}{00007f}
\definecolor{SmtGreen}{HTML}{3b7f31}
\definecolor{SmtStepId}{HTML}{3b7f31}
\definecolor{indexClr}{HTML}{ffcc00}

\newcommand{\grNT}[1]{\textcolor{SmtGreen}{\langle\texttt{#1}\rangle}}
\newcommand{\grT}[1]{\textcolor{SmtBlue}{\texttt{#1}}}
\newcommand{\grRule}{=}
\newcommand{\grOr}{|}
\newcommand{\concat}{~+\!\!\!+~}

\newcommand{\dashdfrac}[2]{%
  {\sbox0{$\genfrac{}{}{0pt}{0}{#1}{#2}$}%
   \vphantom{\copy0}%
   \ooalign{%
     \hidewidth
     $\vcenter{\moveright\nulldelimiterspace
       \hbox to\wd0{%
         \xleaders\hbox{\kern.5pt\vrule height 0.7pt width 1.5pt\kern.5pt}\hfill
         \kern-1.5pt
       }%
     }$
     \hidewidth\cr
   \box0\cr}}%
}

% Display Appendix instead of Section when using cref
\AtBeginEnvironment{appendices}{\crefalias{section}{appendix}}

%******************************************************************
% Lambdapi command for text
%******************************************************************

\newcommand\textAlethe[1]{\texttt{#1}}
\newcommand\C[1]{\mathcal{C}(#1)}
\newcommand\D[1]{\mathcal{D}(#1)}
\newcommand\F[1]{\mathcal{F}(#1)}
\newcommand\E[1]{\mathcal{E}(#1)}
\newcommand\Sort[1]{\mathcal{S}(#1)}
\newcommand\equivL{\equiv_{\beta\Sigma}}
\newcommand\pid{\textcolor{rxpurple}{\texttt{\upshape{Prf}}^\bullet}}
\newcommand\pic{\textcolor{rxpurple}{\texttt{\upshape{Prf}}^c}}

\newcommand\nil{\blacksquare}

\newcommand\lpm{\ensuremath{\lambda\Pi/\mathop{\equiv}}}
\newcommand\pre{\Sigma_{pre}}
\newcommand\prf{\textcolor{rxpurple}{\texttt{\upshape{Prf}}}}
\newcommand\prop{\textcolor{lpurple}{\texttt{\upshape{Prop}}}}
\newcommand\el{\textcolor{rxpurple}{\texttt{\upshape{El}}}}
\newcommand\set{\textcolor{lpurple}{\texttt{\upshape{Set}}}}
\newcommand\type{\textcolor{rxpink}{\texttt{\upshape{TYPE}}}}
\newcommand\kind{\textcolor{rxpink}{\texttt{KIND}}}
\newcommand\pp{ \ensuremath{ {+}\!{+} } }
\newcommand\cpl[1]{\mathbin{{ }^{#1}{\longleftarrow}}}
\newcommand\cpr[1]{\longrightarrow^{#1}}
\newcommand\cprf[5]{(#1 \cpl{(#2)} #3 \cpr{(#4)} #5)}
\newcommand\stepac[1]{\lra_{(#1)}^{AC}}
% arrows
\newcommand\RZ{\longrightarrow_{\bb{Z}}}
\newcommand\RP{\longrightarrow_{\bb{P}}}
\newcommand\RAC{\longrightarrow_{\mathcal{R}}^{AC}}
\newcommand\RsAC{\longrightarrow_{\mathcal{R} \slash AC}}
\newcommand\R{\longrightarrow_{\mathcal{R}}}
\newcommand\RRAC{\twoheadrightarrow^{AC}}
\newcommand\Var[2]{\mathcal{V}(#1, #2)}
\newcommand\Den[1]{ \tau(#1)}
\newcommand\deno[1]{ \Downarrow #1  }
\newcommand\Deno[1]{ \Downarrow #1  }
\newcommand\reify[1]{ \Uparrow #1  }
\newcommand\ZO{\mathop{\tt{Z0}}}
\newcommand\ZPos{\mathop{\tt{ZPos}}}
\newcommand\ZNeg{\mathop{\tt{ZNeg}}}

%******************************************************************
% Alias 
% some alias correspond to shortcut define in Lambdapi vscode extension
%******************************************************************
\let\cal\mathcal
\let\bb\mathbb
\let\nil\blacksquare
\let\eps\epsilon
\let\ra\rightarrow
\let\lra\longrightarrow
\let\re\hookrightarrow
\let\ctxsep\triangleright
\let\tt\texttt
\let\eps\epsilon
\let\cal\mathcal
\let\cons\veedot
\let\is\coloneq

\newcommand\kw[1]{\ensuremath{\texttt{\upshape{#1}}}}
\newcommand\bool[0]{\kw{bool}}
\newcommand\true[0]{\kw{true}}
\newcommand\false[0]{\kw{false}}
\newcommand\eqb[0]{\kw{eqb}}
\newcommand\andb[0]{\kw{andb}}
\newcommand\eq[0]{\kw{eq}}

\newcommand\Q{\ensuremath{\bb{Q}}}
\newcommand\Ring{\ensuremath{\bb{R}}}
\newcommand\Z{\ensuremath{\bb{Z}}}
\newcommand\N{\ensuremath{\bb{N}}}
\newcommand\B{\ensuremath{\bb{B}}}
\newcommand\PP{\ensuremath{\cal{P}}}

\newcommand\hypst{\ensuremath{\Gamma: \texttt{list}~\PP}}
\newcommand\hyps{\ensuremath{\Gamma}}
\newcommand\mapty{\ensuremath{\sigma: \texttt{list}~o}}

%******************************************************************
% Alethe syntax unicode
%******************************************************************

\newcommandx{\ruleAlethe}[4][4={}]{%
  $#1.\ \Gamma \quad \triangleright #2 \quad (\kw{#3})%
  \ifx#4\empty\else\ [#4]\fi$%
}


%******************************************************************
% Reification commands
%******************************************************************

\newcommand\cst[1]{\ensuremath{(\kw{cst}~#1)}}
\newcommand\opp[1]{\ensuremath{\kw{opp}~#1}}
\newcommand\mul[2]{\ensuremath{\kw{mul}~#1~#2}}
\newcommand\var[2]{\ensuremath{(\kw{var}~#1~#2)}}
\newcommand\add[2]{\ensuremath{#1 \oplus #2}} 

\newcommand\MRAC{\longrightarrow_{\mathcal{R}}^{AC*}}

\newcommand\rwModAC{\longrightarrow_{\Sigma/AC}}
\newcommand\ACcanon{\longrightarrow^{AC}_\Sigma}

\newcommand\den[1]{\ensuremath{\Downarrow #1}}
% \newcommand\reify[1]{\ensuremath{\kw{reify}~#1}}
% \newcommand\den[1]{\ensuremath{\kw{den}~#1}}

%******************************************************************
% Critical pairs
%******************************************************************

\newcommand\cp[6][0.8\linewidth]{
\begin{minipage}[c]{#1}
% \centering
\begin{tikzpicture}[scale=.9, node distance=2em]
\node[scale=.9] (root) { \scriptsize $\overline{#2}$ };
\node[scale=.9] (left) at ($(root.south) + (-3,-2)$) {\scriptsize $#3$};
\node[scale=.9] (right) at ($(root.south) + (3,-2)$) {\scriptsize $#4$};
\draw[->] (root) edge node[above, pos=0.9]{(#5)} (left.north) ;
\draw[->] (root) edge node[above, pos=0.9]{(#6)}  (right.north) ;
\end{tikzpicture}
\end{minipage}
}


%******************************************************************
% Bitvectors
%******************************************************************

\DeclareDocumentCommand{\enum}{ O{n} m O{,\,} O{1} O{}}{#2_{#4}#5#3\dots #3#2_{#1}#5}


%******************************************************************
% Tactics
%******************************************************************
\newcommand{\eval}{\ensuremath{\mathop{\mathtt{\textcolor{purple}{eval}}}}}
\newcommand{\refine}{\ensuremath{\mathop{\mathtt{\textcolor{purple}{\#refine}}}}}
\newcommand{\reflexivity}{\ensuremath{\mathop{\mathtt{\textcolor{purple}{\#reflexivity}}}}}
\newcommand{\apply}{\ensuremath{\mathop{\mathtt{\textcolor{purple}{\#apply}}}}}
\newcommand{\rewrite}{\ensuremath{\mathop{\mathtt{\textcolor{purple}{\#rewrite}}}}}
\newcommand{\orelse}{\ensuremath{\mathbin{\textcolor{purple}{\mathtt{\#orelse}}}}}
\newcommand{\andT}{\ensuremath{\mathbin{\mathtt{\textcolor{RoyalBlue}{\#and}}}}}
\newcommand{\repeatT}{\ensuremath{\mathop{\mathtt{\textcolor{purple}{\#repeat}}}}}
\newcommand{\doT}{\ensuremath{\mathop{\mathtt{\textcolor{RoyalBlue}{do}}}}}
\newcommand{\try}{\ensuremath{\mathop{\mathtt{\textcolor{purple}{\#try}}}}}
\newcommand{\fail}{\ensuremath{\mathop{\mathtt{\textcolor{purple}{\#fail}}}}}
\newcommand{\nothing}{\ensuremath{\try \fail}}